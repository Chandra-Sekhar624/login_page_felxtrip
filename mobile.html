<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Phone OTP Verification</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
</head>
<body>

<h2>Phone OTP Verification</h2>

<input type="text" id="phone" placeholder="+91xxxxxxxxxx">
<button onclick="sendOTP()">Send OTP</button>

<br><br>

<input type="text" id="otp" placeholder="Enter OTP">
<button onclick="verifyOTP()">Verify OTP</button>

<script>
  // Step 1: Firebase Config
  const firebaseConfig = {
          apiKey: "AIzaSyBByO1kC_5KU4-8cA4uraEpHTkeN2glXjQ",
          authDomain: "text-ing.firebaseapp.com",
          projectId: "text-ing",
          storageBucket: "text-ing.firebasestorage.app",
          messagingSenderId: "1036036274438",
          appId: "1:1036036274438:web:c9efa302f1ceaac33e8687",
          measurementId: "G-67M4BRVHV6"
        };
  // Step 2: Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // Step 3: Send OTP
  function sendOTP() {
    const phoneNumber = document.getElementById('phone').value;
    const appVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
      'size': 'invisible'
    });

    auth.signInWithPhoneNumber(phoneNumber, appVerifier)
      .then(function (confirmationResult) {
        window.confirmationResult = confirmationResult;
        alert("OTP Sent Successfully!");
      })
      .catch(function (error) {
        console.error(error);
        alert(error.message);
      });
  }

  // Step 4: Verify OTP
  function verifyOTP() {
    const otp = document.getElementById('otp').value;
    window.confirmationResult.confirm(otp)
      .then(function (result) {
        const user = result.user;
        alert("Phone Number Verified Successfully!");
      })
      .catch(function (error) {
        console.error(error);
        alert("Incorrect OTP!");
      });
  }


  let appVerifier;

</script>

</body>
</html>

          
</body>
</html>